{% extends 'base.html' %}
{% block content %}

<h1>Perishable Item Details</h1>

<div class="row">
  <div class="col s6 col-offset-3">
    <div class="card">
      <div class="card-content">
        <span class="card-title">{{ perishable.name }}</span>
        <p>Category: {{ perishable.get_category_display }}</p>
        <p>Purchased from: {{ perishable.store_name }}</p>
        <p>Price: ${{ perishable.price }}</p>
        <p>Expires: {{ perishable.expiration }}</p>

      </div>
      <div class="card-action">
        <a href="{% url 'perishables_update' perishable.id %}">Edit</a>
        <a href="{% url 'perishables_delete' perishable.id %}">Delete</a>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col s2">
    <div class="card">
    <div><a class="btn-floating btn-large halfway-fab waves-effect waves-light blue" style="font-size: large;"
         href="{% url 'receipt_create' %}">+ ðŸ§¾ </a></div>
        </div>
      </div>

  <div class="col s2">
    <div class="card">
  <!-- Modal Trigger -->
<a class="btn-floating btn-large halfway-fab waves-effect waves-light btn modal-trigger blue" style="font-size: large;" href="#myModal">+ ðŸ“…</a>
  
  </div>
  </div>
  <!-- Modal Structure -->
  <div id="myModal" class="modal">
    <div class="modal-content">
      <h4>Add a Reminder</h4>
      <!-- Your form goes here -->
      <!-- <form method="POST" action=""> -->
        <form method="post" action="{% url 'reminders_create' %}"> 
        {% csrf_token %}
        <!-- form fields -->
            <table>
              <!-- Render the inputs inside of <tr>s & <td>s -->
              {{ form.as_table }}
            </table>
        <div class="input-field">
          <input type="text" name="id_remind_time" placeholder="Date">
          <label for="field1">Date of reminder:</label>
        </div>
        <div class="input-field">
          <input type="text" name="field2" placeholder="Email">
          <label for="field2">Send to email:</label>
        </div>
        <!-- other fields -->
        <button type="submit" class="btn">Submit</button>
      </form>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect waves-green btn-flat">Close</a>
    </div>
  </div> 





  <!-- <div class="col s2">
    <div class="card">
      <div><a class="btn-floating btn-large halfway-fab waves-effect waves-light blue" style="font-size: large;"
          href="{% url 'reminders_create' %}">+ ðŸ“… </a></div>
    </div>
  </div>
</div> -->

<script>
document.addEventListener('DOMContentLoaded', function() {
var elems = document.querySelectorAll('.modal');
var instances = M.Modal.init(elems);
});

const dateEl = document.getElementById('id_date');
M.Datepicker.init(dateEl, {
  format: 'yyyy-mm-dd',
  defaultDate: new Date(),
  setDefaultDate: true,
  autoClose: true
});

const selectEl = document.getElementById('id_type');
M.FormSelect.init(selectEl);
const selectRTimeEl = document.getElementById('id_remind_time');
M.FormSelect.init(selectRTimeEl);
const selectTZEl = document.getElementById('id_time_zone');
M.FormSelect.init(selectTZEl);
</script>
{% endblock %}